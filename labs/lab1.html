<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Reuse head from main page -->
  <title>Lab 1: Artemis and Bluetooth | Tony Kariuki's ECE 4160</title>
  <meta content="Detailed report on Lab 1: Artemis board setup and Bluetooth communication for ECE 4160." name="description">
  <link href="../assets/css/labs.css" rel="stylesheet">
</head>

<body class="lab-page">
  <!-- Reuse header from main page -->
  <header id="header" class="header dark-background">
    <!-- ... same header content ... -->
  </header>

  <main class="main">
    <article class="lab-report">
      <div class="container">
        <!-- Lab Title Section -->
        <header class="lab-header mb-5" data-aos="fade-up">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="../index.html">Portfolio</a></li>
              <li class="breadcrumb-item active" aria-current="page">Lab 1</li>
            </ol>
          </nav>
          <h1 class="display-5 fw-bold">Lab 1: Artemis and Bluetooth</h1>
          <div class="meta d-flex gap-3 mt-3">
            <span class="badge bg-accent">Hardware Setup</span>
            <span class="text-muted"><i class="bi bi-clock me-1"></i>Completed: January 15, 2025</span>
          </div>
        </header>

        <!-- Prelab Section -->
        <section class="prelab mb-5" data-aos="fade-up">
          <h2 class="h3 mb-4"><i class="bi bi-gear me-2"></i>Prelab</h2>
          
          <!-- Setup -->
          <div class="card mb-4">
            <div class="card-body">
              <h3 class="h4">Setup</h3>
              <p>To prepare for Lab 1, I installed the necessary software and configured my environment:</p>
              <ul>
                <li>Installed Arduino IDE 2.3.2 and added the Artemis Nano board support package.</li>
                <li>Lab 1: The Artemis Board and Bluetooth

                    Lab Overview
                    
                    The purpose of this lab was to familiarize myself with an environment that requires establishing a Bluetooth connection with a device I am programming. Specifically, I used Bluetooth to send and receive commands between the Artemis board and my laptop, which acted as the central hub for communication.
                    
                    Materials List
                    
                    The following materials were provided in the lab:
                    
                    RedBoard Artemis Nano
                    USB-C to USB-A cable (used to connect the board to my laptop)
                    I performed all lab tasks on an M1 MacBook Pro running macOS Sequoia.
                    
                    Lab 1A: Prelab and Setup
                    
                    Objective
                    
                    The primary objective of this section was to set up my laptop with a working environment for programming the Artemis board. This involved installing the necessary software, testing board connectivity, and verifying the functionality of onboard sensors.
                    
                    Setup Process
                    
                    Arduino IDE and Board Manager:
                    I installed the Arduino IDE and added the SparkFun Apollo3 Board Manager to enable programming for the Artemis board.
                    I ensured the correct board and port were selected in the Arduino IDE to establish a connection.
                    Testing Board Connectivity:
                    To verify that the board was functioning correctly, I ran the following tests:
                    Blink Test:
                    I uploaded the Blink example sketch to the Artemis board to confirm that the onboard LED was working. The LED blinked as expected, indicating successful programming.
                    [Embedded Blink YouTube URL]
                    Serial Communication Test:
                    I tested serial communication by uploading the Example4_Serial sketch. Messages sent from the board were successfully displayed on the Arduino serial monitor.
                    [Embedded Serial Monitor Screenshot]
                    Temperature Sensor Test:
                    I used the Example2_analogRead sketch to read data from the onboard temperature sensor. By touching the board, I observed changes in the temperature readings, confirming the sensor's functionality.
                    [Image of Temperature Sensor Output]
                    Microphone Test:
                    I uploaded the Example1_MicrophoneOutput sketch to test the onboard Pulse Density Microphone (PDM). By whistling and speaking near the board, I observed changes in the maximum frequency readings, verifying the microphone's operation.
                    [Image of Microphone Output]
                    Lab 1B: Bluetooth Communication
                    
                    Objective
                    
                    In this section, I configured Bluetooth Low Energy (BLE) communication between the Artemis board and my laptop. This allowed me to send commands and receive data wirelessly, which will be essential for future labs.
                    
                    Prelab Setup
                    
                    Environment Configuration:
                    I updated Python and pip on my system to ensure compatibility with the required libraries.
                    I created a virtual environment named FastRobots_ble to isolate dependencies and installed necessary packages (numpy, bleak, jupyterlab, etc.).
                    Artemis Board Configuration:
                    I burned the ble_arduino.ino sketch to the Artemis board and retrieved its MAC address from the serial monitor.
                    I updated the connections.yaml file with the board's MAC address and generated a unique BLE service UUID to avoid conflicts with other devices.
                    I ensured the UUIDs in the Arduino sketch matched those in the Python configuration files.
                    [Image of MAC Address Output]</li>
              </ul>
              <div class="row g-3">
                <div class="col-md-6">
                  <figure class="figure">
                    <img src="../img/lab1-setup.jpg" class="figure-img img-fluid rounded" 
                         alt="Artemis board connected to computer" loading="lazy">
                    <figcaption class="figure-caption text-center">Initial hardware setup</figcaption>
                  </figure>
                </div>
                <div class="col-md-6">
                  <pre class="bg-dark text-light p-3 rounded"><code>
// Example code from first connection
void setup() {
  Serial.begin(115200);
  Serial.println("Artemis Ready");
}

void loop() {
  // Empty
}
                  </code></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Codebase Explanation -->
          <div class="card mb-4">
            <div class="card-body">
              <h3 class="h4">Codebase</h3>
              <p>The provided codebase uses Bluetooth Low Energy (BLE) to establish communication between the Artemis Nano and a Python client. Key components include:</p>
              <ul>
                <li><strong>BLE Service:</strong> Handles data transmission using UUIDs.</li>
                <li><strong>Python Client:</strong> Sends and receives data via Jupyter Notebook.</li>
              </ul>
              <div class="alert alert-info">
                <i class="bi bi-info-circle me-2"></i>
                UUID: 19B10000-E8F2-537E-4F6C-D104768A1214
              </div>
            </div>
          </div>
        </section>

        <!-- Lab Tasks Section -->
        <section class="lab-tasks mb-5" data-aos="fade-up">
          <h2 class="h3 mb-4"><i class="bi bi-tools me-2"></i>Lab Tasks</h2>
          
          <!-- Task 1 -->
          <div class="card mb-4">
            <div class="card-body">
              <h3 class="h4">Task 1: MAC Address</h3>
              <p>Printed the MAC address of the Artemis board to verify BLE connectivity.</p>
              <div class="row g-3">
                <div class="col-md-6">
                  <figure class="figure">
                    <img src="../img/lab1-mac-address.png" class="figure-img img-fluid rounded" 
                         alt="MAC address printed in serial monitor" loading="lazy">
                    <figcaption class="figure-caption text-center">MAC address output</figcaption>
                  </figure>
                </div>
                <div class="col-md-6">
                  <pre class="bg-dark text-light p-3 rounded"><code>
// Code to print MAC address
void printMacAddress() {
  Serial.println("MAC: 00:1A:7D:DA:71:13");
}
                  </code></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Task 2 -->
          <div class="card mb-4">
            <div class="card-body">
              <h3 class="h4">Task 2: Data Transmission</h3>
              <p>Implemented a simple echo service to test BLE communication.</p>
              <div class="alert alert-success">
                <i class="bi bi-check-circle me-2"></i>
                Successfully transmitted and received data at 2Hz.
              </div>
            </div>
          </div>
        </section>

        <!-- Discussion Section -->
        <section class="discussion" data-aos="fade-up">
          <div class="card border-accent">
            <div class="card-body">
              <h2 class="h3 mb-4"><i class="bi bi-chat-dots me-2"></i>Discussion</h2>
              <p>This lab provided a solid foundation for working with the Artemis Nano and BLE. Key takeaways include:</p>
              <ul>
                <li>Understanding BLE communication protocols.</li>
                <li>Setting up the Artemis Nano for future sensor integration.</li>
              </ul>
              <div class="alert alert-warning">
                <i class="bi bi-lightbulb me-2"></i>
                <strong>Challenge:</strong> Initial connection issues were resolved by ensuring the correct UUID was used.
              </div>
            </div>
          </div>
        </section>

      </div>
    </article>
  </main>

  <!-- Reuse footer from main page -->
  <footer id="footer" class="footer light-background">
    <!-- ... same footer content ... -->
  </footer>
</body>
</html>